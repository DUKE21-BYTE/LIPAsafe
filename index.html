<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://fonts.googleapis.com; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src https://fonts.gstatic.com 'self'; img-src 'self' data: https://cdn.buymeacoffee.com; connect-src 'self'; frame-ancestors 'none'; form-action 'self';">
  <title>LipaSafe - Verified M-Pesa Paybill & Till Numbers Directory Kenya</title>
  <meta name="description" content="The safest directory to find and verify M-Pesa Paybill and Till numbers in Kenya. Securely pay KPLC, NHIF, KRA, Banks, and more with verified merchant details.">
  <meta name="keywords" content="M-Pesa, Paybill, Till Number, Safaricom, Kenya, Verified Merchants, KPLC Paybill, NHIF Paybill, KRA Paybill, Lipa na M-Pesa, Secure Payments">
  <meta name="author" content="LipaSafe">
  
  <!-- Canonical Tag -->
  <link rel="canonical" href="https://lipasafe.co.ke/">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lipasafe.co.ke/">
  <meta property="og:title" content="LipaSafe - Verified M-Pesa Paybill & Till Numbers Directory">
  <meta property="og:description" content="Find and verify M-Pesa merchant numbers instantly. The safest way to pay in Kenya.">
  <meta property="og:image" content="https://lipasafe.co.ke/assets/og-image.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://lipasafe.co.ke/">
  <meta property="twitter:title" content="LipaSafe - Verified M-Pesa Paybill & Till Numbers Directory">
  <meta property="twitter:description" content="Find and verify M-Pesa merchant numbers instantly. The safest way to pay in Kenya.">
  <meta property="twitter:image" content="https://lipasafe.co.ke/assets/og-image.png">

  <!-- Structured Data (JSON-LD) - Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "LipaSafe",
    "url": "https://lipasafe.co.ke/",
    "logo": "https://lipasafe.co.ke/assets/logo.svg",
    "description": "The safest directory to find and verify M-Pesa Paybill and Till numbers in Kenya.",
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+254758596269",
      "contactType": "customer service",
      "areaServed": "KE",
      "availableLanguage": "English"
    }
  }
  </script>

  <!-- Structured Data (JSON-LD) - Search Action -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://lipasafe.co.ke/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://lipasafe.co.ke/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="landing-page">
  <div class="app-container">
    <div class="ls-toast" id="toast" role="alert" aria-live="polite"></div>

    <header class="ls-header landing-header">
      <div class="header-content">
        <div class="logo-area">
          <div class="logo-container">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" />
              <circle cx="12" cy="16" r="1" />
            </svg>
          </div>
          <h1>LipaSafe</h1>
        </div>
        <div class="hero-text">
          <h2>Secure M-Pesa Directory</h2>
          <p>The safest way to find and verify payment numbers in Kenya.</p>
        </div>
        <div class="search-wrap">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
          <input type="text" id="globalSearch" placeholder="Search services (e.g. KPLC, Equity)..." autocomplete="off">
        </div>
      </div>
    </header>

    <main class="landing-main">
      <div id="searchResults" class="results-grid" style="display: none; margin-bottom: 40px;"></div>
      
      <section class="category-section" id="catSection">
        <h3 class="section-title">Browse Categories</h3>
        <div class="category-grid" id="categoryGrid">
          <!-- Categories will be injected here -->
        </div>
      </section>

      <footer class="landing-footer">
        <div class="footer-links">
          <a href="privacy.html">Privacy Policy</a>
          <span class="dot">•</span>
          <a href="disclaimer.html">Disclaimer</a>
        </div>
        
        <div class="support-channels">
          <a href="https://buymeacoffee.com/dennis2" target="_blank" class="subtle-support">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 4px;"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
            Buy me a coffee
          </a>
          <span class="dot">•</span>
          <button class="subtle-support" onclick="copySupportNumber()">
            Support via M-Pesa (0758596269)
          </button>
        </div>
        
        <p class="copyright">&copy; 2026 LipaSafe. All rights reserved.</p>
      </footer>
    </main>

    <nav class="btm-nav">
      <a href="index.html" class="nav-item active">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
        <span class="nav-label">Home</span>
      </a>
      <button class="nav-item" id="themeToggle">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707M12 5a7 7 0 100 14 7 7 0 000-14z" />
        </svg>
        <span class="nav-label">Mode</span>
      </button>
    </nav>
  </div>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // SVG Icons
      const ICONS = {
        utilities: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>',
        banking: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>',
        internet: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
        government: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',
        shopping: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>',
        transport: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"/><polyline points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>',
        insurance: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>',
        education: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10L12 5 2 10l10 5 10-5z"/><path d="M6 12.5V16a6 6 0 0 0 12 0v-3.5"/></svg>'
      };

      const CATEGORIES = [
        { id: "utilities", name: "Utilities", description: "Water, Power, Gas" },
        { id: "banking", name: "Banking", description: "Banks & Loans" },
        { id: "internet", name: "Internet", description: "Wifi & Data" },
        { id: "government", name: "Government", description: "KRA & Services" },
        { id: "shopping", name: "Shopping", description: "Retail & Stores" },
        { id: "transport", name: "Transport", description: "Fuel & Travel" },
        { id: "insurance", name: "Insurance", description: "Cover & Policy" },
        { id: "education", name: "Education", description: "Schools & Fees" }
      ];

      // Render Categories
      const grid = document.getElementById('categoryGrid');
      if (grid) {
        CATEGORIES.forEach(cat => {
          const card = document.createElement('a');
          card.href = `categories/${cat.id}.html`;
          card.className = 'cat-card';
          card.innerHTML = `
            <div class="cat-icon-wrapper bg-${cat.id}">${ICONS[cat.id]}</div>
            <div class="cat-info">
              <h4>${cat.name}</h4>
              <p>${cat.description}</p>
            </div>
          `;
          grid.appendChild(card);
        });
      }

      // Global Search Logic
      const searchInput = document.getElementById('globalSearch');
      const searchResults = document.getElementById('searchResults');
      const catSection = document.getElementById('catSection');

      if (searchInput && searchResults && catSection) {
        searchInput.addEventListener('input', () => {
          const q = searchInput.value.toLowerCase().trim();
          if (!q) {
            searchResults.style.display = 'none';
            catSection.style.display = 'block';
            return;
          }

          const matches = ALL_DATA.filter(i => 
            i.name.toLowerCase().includes(q) || 
            i.number.includes(q) || 
            i.category.toLowerCase().includes(q)
          ).slice(0, 10);

          if (matches.length > 0) {
            searchResults.style.display = 'grid';
            catSection.style.display = 'none';
            searchResults.innerHTML = matches.map(item => `
              <div class="ls-card">
                <div class="card-name">${item.name} ${item.verified ? '<span class="verified-badge">Verified</span>' : ''}</div>
                <div class="card-meta">${item.category} • ${item.type}</div>
                <div class="number-section">
                  <span class="num-value" style="font-size: 16px">${item.number}</span>
                  <button class="copy-btn" onclick="copyNumber('${item.number}')">Copy</button>
                </div>
              </div>
            `).join('');
          } else {
            searchResults.style.display = 'block';
            searchResults.innerHTML = '<div class="empty-state"><h3>No matches found</h3><p>Try searching for something else.</p></div>';
          }
        });
      }
    });

    window.copySupportNumber = () => {
      if (navigator.clipboard) {
        navigator.clipboard.writeText('0758596269').then(() => {
          const toast = document.getElementById('toast');
          if (toast) {
            toast.textContent = `Support Number Copied!`;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
          }
        });
      }
    };
  </script>
</body>
</html>
